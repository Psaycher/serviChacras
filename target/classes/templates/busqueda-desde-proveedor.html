<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"> 
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Contacta con un Cliente - Chacras de Coria</title>
        <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link rel="stylesheet" href="static/css/styles.css">
        <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script>
    </head>
    <body>
        <!-- Navegador -->        
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">
                <img src="static/img/logo-barrios-cerrados-1.jpg" alt="Logo" style="width: 60px;">
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto me-4 mb-1 mb-lg-0">
                  <form class="d-flex" role="search" style="display: flex; align-items: center;">
                    <button id="filtro" type="button" class="btn btn-secondary" style="margin-right: 5px; ">Filtrar Pedidos</button>
                    <div id="detalles-filtro" style="right: 24%;">
                      <ul class="list-group">
                        <li class="list-group-item">Filtro 1 </li>
                        <li class="list-group-item">Filtro 2 </li>
                        <li class="list-group-item">Filtro 3 </li>
                      </ul>
                    </div>
                    <button class="btn btn-outline-success" type="submit" style="display:flex; flex-direction:row;">Búscar Pedidos</button>
                  </form>
                  <li class="nav-item">
                    <a id="mensajes" class="nav-link">
                      <div class="notification-bell">
                        <img src="static/img/mensaje-icono.png" style="border-radius: 10px; width: 30px; height:30px; margin-left:5px; margin-right:5px;" alt="">
                        <span class="notification-count">3</span>
                      </div>
                    </a>
                    <div id="noti-mensajes">
                      <ul class="list-group">
                        <li class="list-group-item"><button class="btn btn-outline-light" type="button" id="boton-abrir-mensaje" onclick="abrir_mensajes()">Cliente N°1</button></li>
                      </ul>
                    </div>
                  </li>
                  <li class="nav-item">
                    <a id="campana" class="nav-link">
                        <div class="notification-bell">
                            <img src="static/img/campana.jpg" style="border-radius: 10px; width: 30px; height:30px;" alt="">
                            <span class="notification-count">4</span>
                        </div>
                    </a>
                    <div id="notification">
                      <ul class="list-group">
                        <li class="list-group-item" style="border: 1px solid whitesmoke;">Notificación 1</li>
                        <li class="list-group-item" style="border: 1px solid whitesmoke;">Notificación 2</li>
                        <li class="list-group-item" style="border: 1px solid whitesmoke;">Notificación 3</li>
                        <li class="list-group-item" style="border: 1px solid whitesmoke;">Notificación 4</li>
                      </ul>
                    </div>
                  </li>
                  <li style="display: flex; flex-direction:row; align-items:center;" class="nav-item">
                        <a id="usuario" class="nav-link active" style="display: flex; flex-direction:row; align-items:center;" href="#">
                          Usuario
                          <img id="imagen_usuario" src="static/img/icono-usuario.jpg" alt="" style="border-radius: 20px; width: 30px; height:30px; margin-left:7px;">
                        </a>
                  </li>
                  <div id="detalles-usuario">
                    <ul class="list-group">
                      <li class="list-group-item"><button type="button" class="btn btn-info">Ver más Info</button></li>
                      <li class="list-group-item"><button type="button" class="btn btn-danger">Cerrar Sesión</button></li>
                    </ul>
                  </div>
              </div>
            </div>
        </nav>
        <div style="margin-bottom: 50px;"></div>
    
        <!-- Contenido Principal -->
        <div id="fondo" class="container" style="width: 100%;">
            <div id="contenedor de tarjetas" style="width: 100%;" class="row">
              <div class="card text-bg-dark col-md-4">
                <img src="static/img/icono-usuario.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Nombre del cliente</h5>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">Su ubicación</li>
                  <li class="list-group-item">El dia que quiere empezar</li>
                  <li class="list-group-item">En que horarios quiere el servicio</li>
                </ul>
                <div class="card-body">
                  <a href="#" class="card-link"><button type="button" class="btn btn-outline-info">Más Info</button></a>
                  <a href="#" class="card-link"><button type="button" class="btn btn-outline-success">Aceptar Pedido</button></a>
                </div>
              </div>
            </div>

            <div class="mensaje-container">
              <div class="mensaje-header">
                  <span></span>
                  <div class="controls">
                      <span id="minimizar" class="icon" onclick="minimizar()">👇</span>
                      <span id="cerrar-mensajes" class="icon" onclick="cerrarMensaje()">✖</span>
                  </div>
              </div>
              <div class="mensaje-user">
                  <a id="usuario-proveedor" class="nav-link" style="cursor: pointer;">
                      <img src="static/img/icono-usuario.jpg" alt="Proveedor">
                      <span id="nombre-proveedor" style="margin-left: 5px;">Cliente N°1</span>
                  </a>
                  <div id="detalles-proveedor" style="border-bottom: 1px solid #666; z-index:1000;">
                      <ul class="list-group" style="background-color: #333; border: 1px solid #333; padding:0%; display: flex; flex-direction:row ; align-items: center;">
                          <li class="list-group-item" style="padding: auto; background-color: #333; border: 1px solid #333;"><button id="info-proveedor" type="button" class="btn btn-outline-info">Ver más Info</button></li>
                          <li id="eliminar" class="list-group-item" style="padding: auto; background-color: #333; border: 1px solid #333;"><button id="cambiar-funcion" type="button" class="btn btn-outline-success">Notificar trabajo completo</button></li>
                          <li class="list-group-item" style="padding: auto; background-color: #333; border: 1px solid #333;"><button id="reportar" type="button" class="btn btn-outline-danger">Reportar</button></li>
                      </ul>
                  </div>
              </div>
              <div id="mensaje-content" class="mensaje-content">
                  <div class="mensaje usuario">
                      <div class="texto">Hola, ¿cómo estás?</div>
                  </div>
                  <div class="mensaje destinatario">
                      <div class="texto">¡Hola! Estoy bien, ¿y tú?</div>
                  </div>
                  <!-- Más mensajes aquí -->
              </div>
              <div id="preview-container" class="preview-container" onclick="handlePreviewContainerClick(event)"></div>
              <div id="mensaje-form" class="mensaje-form">
                  <label for="file-upload" class="upload-label" onclick="handleFileUploadClick()">📎</label>
                  <input id="file-upload" type="file" accept="image/*" multiple onchange="handleFileChange(event)">
                  <input type="text" placeholder="Escribe tu mensaje">
                  <button class="send" onclick="enviarMensaje()">Enviar</button>
              </div>
            </div>

            <div id="image-viewer" class="image-viewer" style="display: none;" onclick="handleImageViewerClick(event)">
              <span class="close-viewer">&times;</span>
              <a id="download-link" class="download-link" download>Descargar</a>
              <img id="viewer-image" src="" alt="Imagen">
            </div>

            <div class="report-container">
              <div id="report-form-overlay" class="overlay" style="display: none;"></div>
              <div id="report-form" class="report-form" style="display: none;">
                  <div class="report-header">
                      <h2>Reporte</h2>
                      <span class="close">&times;</span>
                  </div>
                  <form id="formulario-reporte">
                      <div class="form-group">
                          <label for="motivo-reporte">¿Qué reporta? (Aclare si es estafa, lenguaje malsonante, etc)</label>
                          <textarea id="motivo-reporte" name="motivo-reporte" rows="2" required></textarea>
                      </div>
                      <div class="form-group">
                          <label for="detalles-reporte">Más detalles</label>
                          <textarea id="detalles-reporte" name="detalles-reporte" rows="4"></textarea>
                      </div>
                      <div class="form-group">
                          <label for="evidencia-reporte">Adjunte evidencia (obligatorio)</label>
                          <input type="file" id="evidencia-reporte" name="evidencia-reporte" accept="image/*" required>
                      </div>
                      <button type="submit" class="send-btn">Enviar</button>
                  </form>
              </div>
            </div>

            <div class="rating-container">
                <div id="rating-form-overlay" class="overlay" style="display: none;"></div>
                <div id="rating-form" class="rating-form" style="display: none;">
                    <div class="rating-header">
                        <h2>Califica a tu proveedor</h2>
                        <span id="close-rating-form" class="close">&times;</span>
                    </div>
                    <form id="calificacion-formulario">
                        <div class="form-group">
                            <label for="puntuacion">Escribe su puntuación</label>
                            <div class="input-group">
                                <input type="number" step="0.1" id="puntuacion" name="puntuacion" required min="0" max="5" >
                                <span class="star">⭐</span>
                                <span class="star">⭐</span>
                                <span class="star">⭐</span>
                                <span class="star">⭐</span>
                                <span class="star">⭐</span>
                            </div>
                            <div id="puntuacion-error" class="error-message" style="display: none;">Por favor, ingresa una puntuación válida entre 0 y 5.</div>
                        </div>
                        <div class="form-group">
                            <label for="comentario">Haz algún comentario (opcional)</label>
                            <textarea id="comentario" name="comentario" rows="4"></textarea>
                        </div>
                        <button type="submit" class="send-btn">Enviar</button>
                    </form>
                </div>
            </div>

          </div>
      <footer style="display: flex; align-content:space-between; width:100%;" class="bg-dark text-light text-center py-3">
        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
            <div><img src="static/img/logo-barrios-cerrados-1.jpg" alt="Logo"
                    style="width: 5vw; margin-left:10px; margin-right:10px;"> ©️ BarriosCerrados Ltd. 2024</div>
            <div style="margin-right: 10px;">
                <div style="margin-bottom: 10px;"><strong>Contacto:</strong></div>
                <ul class="socials">
                    <li id="face"><i class="ri-facebook-fill"></i></li>
                    <li id="tw"><i class="ri-twitter-fill"></i></li>
                    <li><i class="ri-instagram-line"></i></li>
                    <li><i class="ri-whatsapp-line"></i></li>
                </ul>
                <p><img src="static/img/telefono.png" style="border-radius: 10px;width: 2vw; height:4vh;"> 011 0000 0001</p>
            </div>
        </div>
      </footer>
        <!-- Scripts -->
        <script src="static/script/script2.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    </body>
</html>