<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  
  <head th:replace="~{/fragments/head :: head}"></head>

  <body>
    <!-- Navegador -->
    <nav th:replace="~{/fragments/navbar :: nav}"></nav>

    <header class="header row justify-content-center">

    <body>
        <!-- Navegador -->
        <nav th:replace="~{/fragments/navbar :: nav}"></nav>

        <!-- Contenido Principal Cliente-->
        <div id="fondo" style="width:100%;" class="container d-flex flex-column justify-content-center align-items-center">

            <div th:replace="~{/fragments/divError :: div}"></div>

            <div id="contenedor_de_tarjetas" th:if="${listado == 'PEDIDO'}">
                <div id="resultado-busqueda" >
                    <h2>Resultados de la b√∫squeda</h2>
                    <table class="table table-dark text-center">
                        <thead>
                        <tr>
                            <th scope="col">Cliente</th>
                            <th scope="col">Pedido</th>
                            <th scope="col">Proveedor</th>
                            <th scope="col">Fecha pedido</th>
                            <th scope="col">Estado</th>
                                                         
                        </tr>
                    </thead>
                    <tbody th:each="pedido : ${pedido}">
                        <tr>
                            <td th:text="${pedido.Cliente}"></td>
                            <td th:text="${pedido.Servicio}"></td>                                
                            <td th:text="${pedido.Proveedor}"></td>
                            <td th:text="${pedido.fecha}"></td>
                            <td th:text="${pedido.estado}"></td>
                                          
                            <td>
                              <a th:href="@{/admin/modificarPedido/__${pedido.id}__}">
                                  <i class="fas fa-feather-alt">Modificar</i> 
                              </a>
                            </td>
                            <td>
                              <a th:href="@{/admin/altaBaja/__${pedido.id}__}">
                                  <i class="fas fa-feather-alt" th:text="${pedido.alta}"></i>
                              </a>
                            </td>
                            <td>
                                <form th:action="@{/admin/cancelarPedido/{id}(id=${pedido.id})}" method="post">
                                    <input type="hidden" name="_method" value="delete"/>
                                    <button type="submit" class="btn btn-danger">
                                        <i class="fas fa-feather-alt">Cancelar</i>
                                    </button>
                                </form>
                            </td>
                        </tr>    
                    </tbody>
                </table>
            </div>
        </div>            

        <div class="row py-lg-5">
            <div class="col-lg-6 col-md-8 mx-auto">
                <a th:href="@{/inicio}" class="btn btn-primary my-2">Volver</a>
            </div>
        </div>

    </div>

    <footer th:replace= "~{/fragments/footer :: footer}"></footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>